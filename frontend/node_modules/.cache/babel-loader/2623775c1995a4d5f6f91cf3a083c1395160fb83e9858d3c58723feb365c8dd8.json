{"ast":null,"code":"import _objectSpread from\"/Users/devanshgoenka/Desktop/seva/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/ReportView.jsx\nimport React,{useEffect,useState}from\"react\";import MapView from\"./MapView\";import api from\"../api/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function VerifiedBadge(_ref){let{text}=_ref;return/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',gap:6,background:'#e6ffed',color:'#0b7a3a',padding:'2px 8px',borderRadius:12,fontSize:12,marginLeft:8},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u2713\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:600},children:text||\"Verified\"})]});}export default function ReportView(_ref2){var _report$comments;let{report,onClose,onComment,user}=_ref2;const[commentText,setCommentText]=useState(\"\");const[route,setRoute]=useState(null);const[etaInfo,setEtaInfo]=useState(null);const[loadingRoute,setLoadingRoute]=useState(false);const[assignedName,setAssignedName]=useState(report.assignedTo||null);useEffect(()=>{async function fetchAssigned(){if(!report.assignedTo)return;if(process.env.REACT_APP_API_BASE){try{const a=await api.getAuthorityById(report.assignedTo);if(a&&a.name)setAssignedName(a.name);return;}catch(e){}}const auths=JSON.parse(localStorage.getItem('seva_authorities')||'[]');const found=auths.find(x=>x.id===report.assignedTo);if(found)setAssignedName(found.name);}fetchAssigned();},[report.assignedTo]);async function calcETA(){if(!report.lat||!report.lng){alert(\"Report has no coordinates\");return;}if(!navigator.geolocation){alert(\"Geolocation not available\");return;}navigator.geolocation.getCurrentPosition(async pos=>{setLoadingRoute(true);const start=[pos.coords.longitude,pos.coords.latitude];const end=[parseFloat(report.lng),parseFloat(report.lat)];if(process.env.REACT_APP_API_BASE){try{var _feat$properties;const data=await api.getRouteGeoJSON([start,end],\"driving-car\");if(!data||!data.features||data.features.length===0)throw new Error(\"No route\");const feat=data.features[0];setRoute(feat);setEtaInfo(((_feat$properties=feat.properties)===null||_feat$properties===void 0?void 0:_feat$properties.summary)||null);setLoadingRoute(false);return;}catch(err){console.warn(\"Backend ORS proxy failed:\",err);}}if(process.env.REACT_APP_ORS_KEY){try{var _data$features,_feat$properties2;const resp=await fetch(\"https://api.openrouteservice.org/v2/directions/driving-car/geojson\",{method:\"POST\",headers:{\"Authorization\":process.env.REACT_APP_ORS_KEY,\"Content-Type\":\"application/json\"},body:JSON.stringify({coordinates:[start,end]})});if(!resp.ok)throw new Error(\"ORS HTTP \".concat(resp.status));const data=await resp.json();const feat=(_data$features=data.features)===null||_data$features===void 0?void 0:_data$features[0];setRoute(feat);setEtaInfo(((_feat$properties2=feat.properties)===null||_feat$properties2===void 0?void 0:_feat$properties2.summary)||null);setLoadingRoute(false);return;}catch(e){console.error(\"Direct ORS call failed:\",e);}}// fallback: haversine estimate\nconst haversine=(a,b)=>{const R=6371;const toRad=x=>x*Math.PI/180;const dLat=toRad(b[1]-a[1]);const dLon=toRad(b[0]-a[0]);const lat1=toRad(a[1]);const lat2=toRad(b[1]);const sinDLat=Math.sin(dLat/2);const sinDLon=Math.sin(dLon/2);const c=2*Math.atan2(Math.sqrt(sinDLat*sinDLat+Math.cos(lat1)*Math.cos(lat2)*sinDLon*sinDLon),Math.sqrt(1-(sinDLat*sinDLat+Math.cos(lat1)*Math.cos(lat2)*sinDLon*sinDLon)));return R*c;};const distKm=haversine(start,end);const avgSpeedKmh=30;const estMin=Math.round(distKm/avgSpeedKmh*60);setEtaInfo({distance:Math.round(distKm*1000),duration:estMin*60});setLoadingRoute(false);alert(\"Precise route not available — showing straight-line ETA estimate.\");},err=>{alert(\"Allow location to calculate ETA\");});}// post comment: if authority user posts, flag comment.byAuthority = true\nfunction handleCommentPost(){if(!commentText.trim())return;const isAuthorityUser=(user===null||user===void 0?void 0:user.role)===\"authority\";const authorName=(user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.username)||\"authority\";const comment={author:isAuthorityUser?\"Authority (\".concat(authorName,\")\"):(user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.username)||\"anonymous\",text:commentText.trim(),at:new Date().toISOString(),byAuthority:!!isAuthorityUser};if(process.env.REACT_APP_API_BASE){api.commentReport(report.id,comment).then(()=>{onComment(report.id,comment);}).catch(()=>{onComment(report.id,comment);});}else{// local fallback\nconst arr=JSON.parse(localStorage.getItem('seva_reports')||'[]');const updated=arr.map(r=>r.id===report.id?_objectSpread(_objectSpread({},r),{},{comments:[...(r.comments||[]),comment]}):r);localStorage.setItem('seva_reports',JSON.stringify(updated));onComment(report.id,comment);}setCommentText(\"\");}const googleNav=report.lat&&report.lng?\"https://www.google.com/maps/dir/?api=1&destination=\".concat(report.lat,\",\").concat(report.lng,\"&travelmode=driving\"):\"https://www.google.com/maps\";return/*#__PURE__*/_jsxs(\"div\",{className:\"report-view card\",style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"close\",onClick:onClose,children:\"X\"}),/*#__PURE__*/_jsxs(\"h3\",{style:{display:'flex',alignItems:'center',gap:12},children:[report.title,report.assignedTo&&/*#__PURE__*/_jsxs(\"small\",{style:{color:'#666'},children:[\"(\",report.assignedTo,\")\"]})]}),/*#__PURE__*/_jsx(\"p\",{children:report.desc}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Area:\"}),\" \",report.area,\" | \",/*#__PURE__*/_jsx(\"b\",{children:\"Pincode:\"}),\" \",report.pincode]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Author:\"}),\" \",report.createdBy||\"anonymous\",\" | \",/*#__PURE__*/_jsx(\"b\",{children:\"Assigned to:\"}),\" \",assignedName||report.assignedTo||\"Not assigned\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,marginTop:8},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:calcETA,disabled:loadingRoute,children:loadingRoute?\"Calculating...\":\"Calculate ETA & Route\"}),/*#__PURE__*/_jsx(\"a\",{className:\"btn-outline\",href:googleNav,target:\"_blank\",rel:\"noreferrer\",children:\"Open in Google Maps\"})]}),etaInfo&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Estimated travel:\"}),\" \",(etaInfo.distance/1000).toFixed(2),\" km \\u2014 \",(etaInfo.duration/60).toFixed(0),\" min\"]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12},children:/*#__PURE__*/_jsx(MapView,{markers:[{id:report.id,lat:parseFloat(report.lat),lng:parseFloat(report.lng),title:report.title,desc:report.desc,author:report.createdBy,assignedTo:report.assignedTo,assignedName}],height:\"300px\",route:route})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Comments\"}),(_report$comments=report.comments)!==null&&_report$comments!==void 0&&_report$comments.length?report.comments.map((c,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"comment\",style:{borderLeft:c.byAuthority||c.adminReply?\"3px solid #2ecc71\":\"3px solid transparent\",paddingLeft:8,marginBottom:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:8},children:[/*#__PURE__*/_jsx(\"b\",{children:c.author}),/*#__PURE__*/_jsx(\"small\",{style:{color:'#666'},children:new Date(c.at).toLocaleString()}),(c.byAuthority||c.adminReply)&&/*#__PURE__*/_jsx(VerifiedBadge,{text:c.byAuthority?\"Authority\":\"Verified\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:6},children:c.text})]},c.id||c.at||idx)):/*#__PURE__*/_jsx(\"p\",{children:\"No comments yet\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,marginTop:8},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Write a comment...\",value:commentText,onChange:e=>setCommentText(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleCommentPost,children:\"Post\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","MapView","api","jsx","_jsx","jsxs","_jsxs","VerifiedBadge","_ref","text","style","display","alignItems","gap","background","color","padding","borderRadius","fontSize","marginLeft","children","fontWeight","ReportView","_ref2","_report$comments","report","onClose","onComment","user","commentText","setCommentText","route","setRoute","etaInfo","setEtaInfo","loadingRoute","setLoadingRoute","assignedName","setAssignedName","assignedTo","fetchAssigned","process","env","REACT_APP_API_BASE","a","getAuthorityById","name","e","auths","JSON","parse","localStorage","getItem","found","find","x","id","calcETA","lat","lng","alert","navigator","geolocation","getCurrentPosition","pos","start","coords","longitude","latitude","end","parseFloat","_feat$properties","data","getRouteGeoJSON","features","length","Error","feat","properties","summary","err","console","warn","REACT_APP_ORS_KEY","_data$features","_feat$properties2","resp","fetch","method","headers","body","stringify","coordinates","ok","concat","status","json","error","haversine","b","R","toRad","Math","PI","dLat","dLon","lat1","lat2","sinDLat","sin","sinDLon","c","atan2","sqrt","cos","distKm","avgSpeedKmh","estMin","round","distance","duration","handleCommentPost","trim","isAuthorityUser","role","authorName","username","comment","author","at","Date","toISOString","byAuthority","commentReport","then","catch","arr","updated","map","r","_objectSpread","comments","setItem","googleNav","className","position","onClick","title","desc","area","pincode","createdBy","marginTop","disabled","href","target","rel","toFixed","markers","height","idx","borderLeft","adminReply","paddingLeft","marginBottom","toLocaleString","placeholder","value","onChange"],"sources":["/Users/devanshgoenka/Desktop/seva/frontend/src/components/ReportView.jsx"],"sourcesContent":["// src/components/ReportView.jsx\nimport React, { useEffect, useState } from \"react\";\nimport MapView from \"./MapView\";\nimport api from \"../api/api\";\n\nfunction VerifiedBadge({ text }) {\n  return (\n    <span style={{display:'inline-flex', alignItems:'center', gap:6, background:'#e6ffed', color:'#0b7a3a', padding:'2px 8px', borderRadius:12, fontSize:12, marginLeft:8}}>\n      <strong>✓</strong> <span style={{fontWeight:600}}>{text || \"Verified\"}</span>\n    </span>\n  );\n}\n\nexport default function ReportView({ report, onClose, onComment, user }){\n  const [commentText, setCommentText] = useState(\"\");\n  const [route, setRoute] = useState(null);\n  const [etaInfo, setEtaInfo] = useState(null);\n  const [loadingRoute, setLoadingRoute] = useState(false);\n  const [assignedName, setAssignedName] = useState(report.assignedTo || null);\n\n  useEffect(()=>{\n    async function fetchAssigned(){\n      if(!report.assignedTo) return;\n      if(process.env.REACT_APP_API_BASE){\n        try {\n          const a = await api.getAuthorityById(report.assignedTo);\n          if(a && a.name) setAssignedName(a.name);\n          return;\n        } catch(e){}\n      }\n      const auths = JSON.parse(localStorage.getItem('seva_authorities') || '[]');\n      const found = auths.find(x=>x.id === report.assignedTo);\n      if(found) setAssignedName(found.name);\n    }\n    fetchAssigned();\n  }, [report.assignedTo]);\n\n  async function calcETA(){\n    if(!report.lat || !report.lng){ alert(\"Report has no coordinates\"); return; }\n    if(!navigator.geolocation){ alert(\"Geolocation not available\"); return; }\n\n    navigator.geolocation.getCurrentPosition(async pos => {\n      setLoadingRoute(true);\n      const start = [pos.coords.longitude, pos.coords.latitude];\n      const end = [parseFloat(report.lng), parseFloat(report.lat)];\n\n      if(process.env.REACT_APP_API_BASE){\n        try {\n          const data = await api.getRouteGeoJSON([start, end], \"driving-car\");\n          if(!data || !data.features || data.features.length === 0) throw new Error(\"No route\");\n          const feat = data.features[0];\n          setRoute(feat);\n          setEtaInfo(feat.properties?.summary || null);\n          setLoadingRoute(false);\n          return;\n        } catch(err){\n          console.warn(\"Backend ORS proxy failed:\", err);\n        }\n      }\n\n      if(process.env.REACT_APP_ORS_KEY){\n        try {\n          const resp = await fetch(\"https://api.openrouteservice.org/v2/directions/driving-car/geojson\", {\n            method: \"POST\",\n            headers: {\"Authorization\": process.env.REACT_APP_ORS_KEY, \"Content-Type\":\"application/json\"},\n            body: JSON.stringify({ coordinates: [start, end] })\n          });\n          if(!resp.ok) throw new Error(`ORS HTTP ${resp.status}`);\n          const data = await resp.json();\n          const feat = data.features?.[0];\n          setRoute(feat);\n          setEtaInfo(feat.properties?.summary || null);\n          setLoadingRoute(false);\n          return;\n        } catch(e){\n          console.error(\"Direct ORS call failed:\", e);\n        }\n      }\n\n      // fallback: haversine estimate\n      const haversine = (a,b) => {\n        const R = 6371;\n        const toRad = x => x * Math.PI / 180;\n        const dLat = toRad(b[1]-a[1]);\n        const dLon = toRad(b[0]-a[0]);\n        const lat1 = toRad(a[1]); const lat2 = toRad(b[1]);\n        const sinDLat = Math.sin(dLat/2); const sinDLon = Math.sin(dLon/2);\n        const c = 2 * Math.atan2(Math.sqrt(sinDLat*sinDLat + Math.cos(lat1)*Math.cos(lat2)*sinDLon*sinDLon), Math.sqrt(1 - (sinDLat*sinDLat + Math.cos(lat1)*Math.cos(lat2)*sinDLon*sinDLon)));\n        return R * c;\n      };\n      const distKm = haversine(start, end);\n      const avgSpeedKmh = 30;\n      const estMin = Math.round((distKm / avgSpeedKmh) * 60);\n      setEtaInfo({ distance: Math.round(distKm*1000), duration: estMin*60 });\n      setLoadingRoute(false);\n      alert(\"Precise route not available — showing straight-line ETA estimate.\");\n    }, err => { alert(\"Allow location to calculate ETA\"); });\n  }\n\n  // post comment: if authority user posts, flag comment.byAuthority = true\n  function handleCommentPost(){\n    if(!commentText.trim()) return;\n    const isAuthorityUser = user?.role === \"authority\";\n    const authorName = user?.name || user?.username || \"authority\";\n    const comment = {\n      author: isAuthorityUser ? `Authority (${authorName})` : (user?.name || user?.username || \"anonymous\"),\n      text: commentText.trim(),\n      at: new Date().toISOString(),\n      byAuthority: !!isAuthorityUser\n    };\n\n    if(process.env.REACT_APP_API_BASE){\n      api.commentReport(report.id, comment).then(()=> {\n        onComment(report.id, comment);\n      }).catch(()=> {\n        onComment(report.id, comment);\n      });\n    } else {\n      // local fallback\n      const arr = JSON.parse(localStorage.getItem('seva_reports') || '[]');\n      const updated = arr.map(r => r.id === report.id ? { ...r, comments: [...(r.comments||[]), comment] } : r);\n      localStorage.setItem('seva_reports', JSON.stringify(updated));\n      onComment(report.id, comment);\n    }\n    setCommentText(\"\");\n  }\n\n  const googleNav = report.lat && report.lng ? `https://www.google.com/maps/dir/?api=1&destination=${report.lat},${report.lng}&travelmode=driving` : \"https://www.google.com/maps\";\n\n  return (\n    <div className=\"report-view card\" style={{position:'relative'}}>\n      <button className=\"close\" onClick={onClose}>X</button>\n\n      <h3 style={{display:'flex', alignItems:'center', gap:12}}>\n        {report.title}\n        {report.assignedTo && <small style={{color:'#666'}}>({report.assignedTo})</small>}\n      </h3>\n\n      <p>{report.desc}</p>\n      <p><b>Area:</b> {report.area} | <b>Pincode:</b> {report.pincode}</p>\n      <p><b>Author:</b> {report.createdBy || \"anonymous\"} | <b>Assigned to:</b> {assignedName || (report.assignedTo || \"Not assigned\")}</p>\n\n      <div style={{display:'flex', gap:8, marginTop:8}}>\n        <button className=\"btn\" onClick={calcETA} disabled={loadingRoute}>{loadingRoute ? \"Calculating...\" : \"Calculate ETA & Route\"}</button>\n        <a className=\"btn-outline\" href={googleNav} target=\"_blank\" rel=\"noreferrer\">Open in Google Maps</a>\n      </div>\n\n      {etaInfo && (\n        <div style={{marginTop:8}}>\n          <p><b>Estimated travel:</b> {(etaInfo.distance/1000).toFixed(2)} km — {(etaInfo.duration/60).toFixed(0)} min</p>\n        </div>\n      )}\n\n      <div style={{marginTop:12}}>\n        <MapView markers={[{id:report.id, lat:parseFloat(report.lat), lng:parseFloat(report.lng), title:report.title, desc:report.desc, author: report.createdBy, assignedTo: report.assignedTo, assignedName }]} height=\"300px\" route={route} />\n      </div>\n\n      <div style={{marginTop:12}}>\n        <h4>Comments</h4>\n        {report.comments?.length ? report.comments.map((c, idx) =>\n          <div key={c.id || c.at || idx} className=\"comment\" style={{borderLeft: (c.byAuthority || c.adminReply) ? \"3px solid #2ecc71\" : \"3px solid transparent\", paddingLeft:8, marginBottom:8}}>\n            <div style={{display:'flex', alignItems:'center', gap:8}}>\n              <b>{c.author}</b>\n              <small style={{color:'#666'}}>{new Date(c.at).toLocaleString()}</small>\n              {(c.byAuthority || c.adminReply) && <VerifiedBadge text={ c.byAuthority ? \"Authority\" : \"Verified\" } />}\n            </div>\n            <p style={{marginTop:6}}>{c.text}</p>\n          </div>\n        ) : <p>No comments yet</p>}\n\n        <div style={{display:'flex', gap:8, marginTop:8}}>\n          <input placeholder=\"Write a comment...\" value={commentText} onChange={e=>setCommentText(e.target.value)} />\n          <button className=\"btn\" onClick={handleCommentPost}>Post</button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"+HAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,GAAG,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAW,IAAV,CAAEC,IAAK,CAAC,CAAAD,IAAA,CAC7B,mBACEF,KAAA,SAAMI,KAAK,CAAE,CAACC,OAAO,CAAC,aAAa,CAAEC,UAAU,CAAC,QAAQ,CAAEC,GAAG,CAAC,CAAC,CAAEC,UAAU,CAAC,SAAS,CAAEC,KAAK,CAAC,SAAS,CAAEC,OAAO,CAAC,SAAS,CAAEC,YAAY,CAAC,EAAE,CAAEC,QAAQ,CAAC,EAAE,CAAEC,UAAU,CAAC,CAAC,CAAE,CAAAC,QAAA,eACrKhB,IAAA,WAAAgB,QAAA,CAAQ,QAAC,CAAQ,CAAC,IAAC,cAAAhB,IAAA,SAAMM,KAAK,CAAE,CAACW,UAAU,CAAC,GAAG,CAAE,CAAAD,QAAA,CAAEX,IAAI,EAAI,UAAU,CAAO,CAAC,EACzE,CAAC,CAEX,CAEA,cAAe,SAAS,CAAAa,UAAUA,CAAAC,KAAA,CAAsC,KAAAC,gBAAA,IAArC,CAAEC,MAAM,CAAEC,OAAO,CAAEC,SAAS,CAAEC,IAAK,CAAC,CAAAL,KAAA,CACrE,KAAM,CAACM,WAAW,CAAEC,cAAc,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAC+B,KAAK,CAAEC,QAAQ,CAAC,CAAGhC,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACiC,OAAO,CAAEC,UAAU,CAAC,CAAGlC,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACmC,YAAY,CAAEC,eAAe,CAAC,CAAGpC,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACqC,YAAY,CAAEC,eAAe,CAAC,CAAGtC,QAAQ,CAACyB,MAAM,CAACc,UAAU,EAAI,IAAI,CAAC,CAE3ExC,SAAS,CAAC,IAAI,CACZ,cAAe,CAAAyC,aAAaA,CAAA,CAAE,CAC5B,GAAG,CAACf,MAAM,CAACc,UAAU,CAAE,OACvB,GAAGE,OAAO,CAACC,GAAG,CAACC,kBAAkB,CAAC,CAChC,GAAI,CACF,KAAM,CAAAC,CAAC,CAAG,KAAM,CAAA1C,GAAG,CAAC2C,gBAAgB,CAACpB,MAAM,CAACc,UAAU,CAAC,CACvD,GAAGK,CAAC,EAAIA,CAAC,CAACE,IAAI,CAAER,eAAe,CAACM,CAAC,CAACE,IAAI,CAAC,CACvC,OACF,CAAE,MAAMC,CAAC,CAAC,CAAC,CACb,CACA,KAAM,CAAAC,KAAK,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,EAAI,IAAI,CAAC,CAC1E,KAAM,CAAAC,KAAK,CAAGL,KAAK,CAACM,IAAI,CAACC,CAAC,EAAEA,CAAC,CAACC,EAAE,GAAK/B,MAAM,CAACc,UAAU,CAAC,CACvD,GAAGc,KAAK,CAAEf,eAAe,CAACe,KAAK,CAACP,IAAI,CAAC,CACvC,CACAN,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,CAACf,MAAM,CAACc,UAAU,CAAC,CAAC,CAEvB,cAAe,CAAAkB,OAAOA,CAAA,CAAE,CACtB,GAAG,CAAChC,MAAM,CAACiC,GAAG,EAAI,CAACjC,MAAM,CAACkC,GAAG,CAAC,CAAEC,KAAK,CAAC,2BAA2B,CAAC,CAAE,OAAQ,CAC5E,GAAG,CAACC,SAAS,CAACC,WAAW,CAAC,CAAEF,KAAK,CAAC,2BAA2B,CAAC,CAAE,OAAQ,CAExEC,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAAC,KAAM,CAAAC,GAAG,EAAI,CACpD5B,eAAe,CAAC,IAAI,CAAC,CACrB,KAAM,CAAA6B,KAAK,CAAG,CAACD,GAAG,CAACE,MAAM,CAACC,SAAS,CAAEH,GAAG,CAACE,MAAM,CAACE,QAAQ,CAAC,CACzD,KAAM,CAAAC,GAAG,CAAG,CAACC,UAAU,CAAC7C,MAAM,CAACkC,GAAG,CAAC,CAAEW,UAAU,CAAC7C,MAAM,CAACiC,GAAG,CAAC,CAAC,CAE5D,GAAGjB,OAAO,CAACC,GAAG,CAACC,kBAAkB,CAAC,CAChC,GAAI,KAAA4B,gBAAA,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAtE,GAAG,CAACuE,eAAe,CAAC,CAACR,KAAK,CAAEI,GAAG,CAAC,CAAE,aAAa,CAAC,CACnE,GAAG,CAACG,IAAI,EAAI,CAACA,IAAI,CAACE,QAAQ,EAAIF,IAAI,CAACE,QAAQ,CAACC,MAAM,GAAK,CAAC,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,UAAU,CAAC,CACrF,KAAM,CAAAC,IAAI,CAAGL,IAAI,CAACE,QAAQ,CAAC,CAAC,CAAC,CAC7B1C,QAAQ,CAAC6C,IAAI,CAAC,CACd3C,UAAU,CAAC,EAAAqC,gBAAA,CAAAM,IAAI,CAACC,UAAU,UAAAP,gBAAA,iBAAfA,gBAAA,CAAiBQ,OAAO,GAAI,IAAI,CAAC,CAC5C3C,eAAe,CAAC,KAAK,CAAC,CACtB,OACF,CAAE,MAAM4C,GAAG,CAAC,CACVC,OAAO,CAACC,IAAI,CAAC,2BAA2B,CAAEF,GAAG,CAAC,CAChD,CACF,CAEA,GAAGvC,OAAO,CAACC,GAAG,CAACyC,iBAAiB,CAAC,CAC/B,GAAI,KAAAC,cAAA,CAAAC,iBAAA,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAC,KAAK,CAAC,oEAAoE,CAAE,CAC7FC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAC,eAAe,CAAEhD,OAAO,CAACC,GAAG,CAACyC,iBAAiB,CAAE,cAAc,CAAC,kBAAkB,CAAC,CAC5FO,IAAI,CAAEzC,IAAI,CAAC0C,SAAS,CAAC,CAAEC,WAAW,CAAE,CAAC3B,KAAK,CAAEI,GAAG,CAAE,CAAC,CACpD,CAAC,CAAC,CACF,GAAG,CAACiB,IAAI,CAACO,EAAE,CAAE,KAAM,IAAI,CAAAjB,KAAK,aAAAkB,MAAA,CAAaR,IAAI,CAACS,MAAM,CAAE,CAAC,CACvD,KAAM,CAAAvB,IAAI,CAAG,KAAM,CAAAc,IAAI,CAACU,IAAI,CAAC,CAAC,CAC9B,KAAM,CAAAnB,IAAI,EAAAO,cAAA,CAAGZ,IAAI,CAACE,QAAQ,UAAAU,cAAA,iBAAbA,cAAA,CAAgB,CAAC,CAAC,CAC/BpD,QAAQ,CAAC6C,IAAI,CAAC,CACd3C,UAAU,CAAC,EAAAmD,iBAAA,CAAAR,IAAI,CAACC,UAAU,UAAAO,iBAAA,iBAAfA,iBAAA,CAAiBN,OAAO,GAAI,IAAI,CAAC,CAC5C3C,eAAe,CAAC,KAAK,CAAC,CACtB,OACF,CAAE,MAAMW,CAAC,CAAC,CACRkC,OAAO,CAACgB,KAAK,CAAC,yBAAyB,CAAElD,CAAC,CAAC,CAC7C,CACF,CAEA;AACA,KAAM,CAAAmD,SAAS,CAAGA,CAACtD,CAAC,CAACuD,CAAC,GAAK,CACzB,KAAM,CAAAC,CAAC,CAAG,IAAI,CACd,KAAM,CAAAC,KAAK,CAAG9C,CAAC,EAAIA,CAAC,CAAG+C,IAAI,CAACC,EAAE,CAAG,GAAG,CACpC,KAAM,CAAAC,IAAI,CAAGH,KAAK,CAACF,CAAC,CAAC,CAAC,CAAC,CAACvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAC7B,KAAM,CAAA6D,IAAI,CAAGJ,KAAK,CAACF,CAAC,CAAC,CAAC,CAAC,CAACvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAC7B,KAAM,CAAA8D,IAAI,CAAGL,KAAK,CAACzD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,KAAM,CAAA+D,IAAI,CAAGN,KAAK,CAACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAClD,KAAM,CAAAS,OAAO,CAAGN,IAAI,CAACO,GAAG,CAACL,IAAI,CAAC,CAAC,CAAC,CAAE,KAAM,CAAAM,OAAO,CAAGR,IAAI,CAACO,GAAG,CAACJ,IAAI,CAAC,CAAC,CAAC,CAClE,KAAM,CAAAM,CAAC,CAAG,CAAC,CAAGT,IAAI,CAACU,KAAK,CAACV,IAAI,CAACW,IAAI,CAACL,OAAO,CAACA,OAAO,CAAGN,IAAI,CAACY,GAAG,CAACR,IAAI,CAAC,CAACJ,IAAI,CAACY,GAAG,CAACP,IAAI,CAAC,CAACG,OAAO,CAACA,OAAO,CAAC,CAAER,IAAI,CAACW,IAAI,CAAC,CAAC,EAAIL,OAAO,CAACA,OAAO,CAAGN,IAAI,CAACY,GAAG,CAACR,IAAI,CAAC,CAACJ,IAAI,CAACY,GAAG,CAACP,IAAI,CAAC,CAACG,OAAO,CAACA,OAAO,CAAC,CAAC,CAAC,CACtL,MAAO,CAAAV,CAAC,CAAGW,CAAC,CACd,CAAC,CACD,KAAM,CAAAI,MAAM,CAAGjB,SAAS,CAACjC,KAAK,CAAEI,GAAG,CAAC,CACpC,KAAM,CAAA+C,WAAW,CAAG,EAAE,CACtB,KAAM,CAAAC,MAAM,CAAGf,IAAI,CAACgB,KAAK,CAAEH,MAAM,CAAGC,WAAW,CAAI,EAAE,CAAC,CACtDlF,UAAU,CAAC,CAAEqF,QAAQ,CAAEjB,IAAI,CAACgB,KAAK,CAACH,MAAM,CAAC,IAAI,CAAC,CAAEK,QAAQ,CAAEH,MAAM,CAAC,EAAG,CAAC,CAAC,CACtEjF,eAAe,CAAC,KAAK,CAAC,CACtBwB,KAAK,CAAC,mEAAmE,CAAC,CAC5E,CAAC,CAAEoB,GAAG,EAAI,CAAEpB,KAAK,CAAC,iCAAiC,CAAC,CAAE,CAAC,CAAC,CAC1D,CAEA;AACA,QAAS,CAAA6D,iBAAiBA,CAAA,CAAE,CAC1B,GAAG,CAAC5F,WAAW,CAAC6F,IAAI,CAAC,CAAC,CAAE,OACxB,KAAM,CAAAC,eAAe,CAAG,CAAA/F,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEgG,IAAI,IAAK,WAAW,CAClD,KAAM,CAAAC,UAAU,CAAG,CAAAjG,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,IAAI,IAAIlB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkG,QAAQ,GAAI,WAAW,CAC9D,KAAM,CAAAC,OAAO,CAAG,CACdC,MAAM,CAAEL,eAAe,eAAA7B,MAAA,CAAiB+B,UAAU,MAAO,CAAAjG,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,IAAI,IAAIlB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkG,QAAQ,GAAI,WAAY,CACrGrH,IAAI,CAAEoB,WAAW,CAAC6F,IAAI,CAAC,CAAC,CACxBO,EAAE,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAC5BC,WAAW,CAAE,CAAC,CAACT,eACjB,CAAC,CAED,GAAGlF,OAAO,CAACC,GAAG,CAACC,kBAAkB,CAAC,CAChCzC,GAAG,CAACmI,aAAa,CAAC5G,MAAM,CAAC+B,EAAE,CAAEuE,OAAO,CAAC,CAACO,IAAI,CAAC,IAAK,CAC9C3G,SAAS,CAACF,MAAM,CAAC+B,EAAE,CAAEuE,OAAO,CAAC,CAC/B,CAAC,CAAC,CAACQ,KAAK,CAAC,IAAK,CACZ5G,SAAS,CAACF,MAAM,CAAC+B,EAAE,CAAEuE,OAAO,CAAC,CAC/B,CAAC,CAAC,CACJ,CAAC,IAAM,CACL;AACA,KAAM,CAAAS,GAAG,CAAGvF,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAI,IAAI,CAAC,CACpE,KAAM,CAAAqF,OAAO,CAAGD,GAAG,CAACE,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACnF,EAAE,GAAK/B,MAAM,CAAC+B,EAAE,CAAAoF,aAAA,CAAAA,aAAA,IAAQD,CAAC,MAAEE,QAAQ,CAAE,CAAC,IAAIF,CAAC,CAACE,QAAQ,EAAE,EAAE,CAAC,CAAEd,OAAO,CAAC,GAAKY,CAAC,CAAC,CACzGxF,YAAY,CAAC2F,OAAO,CAAC,cAAc,CAAE7F,IAAI,CAAC0C,SAAS,CAAC8C,OAAO,CAAC,CAAC,CAC7D9G,SAAS,CAACF,MAAM,CAAC+B,EAAE,CAAEuE,OAAO,CAAC,CAC/B,CACAjG,cAAc,CAAC,EAAE,CAAC,CACpB,CAEA,KAAM,CAAAiH,SAAS,CAAGtH,MAAM,CAACiC,GAAG,EAAIjC,MAAM,CAACkC,GAAG,uDAAAmC,MAAA,CAAyDrE,MAAM,CAACiC,GAAG,MAAAoC,MAAA,CAAIrE,MAAM,CAACkC,GAAG,wBAAwB,6BAA6B,CAEhL,mBACErD,KAAA,QAAK0I,SAAS,CAAC,kBAAkB,CAACtI,KAAK,CAAE,CAACuI,QAAQ,CAAC,UAAU,CAAE,CAAA7H,QAAA,eAC7DhB,IAAA,WAAQ4I,SAAS,CAAC,OAAO,CAACE,OAAO,CAAExH,OAAQ,CAAAN,QAAA,CAAC,GAAC,CAAQ,CAAC,cAEtDd,KAAA,OAAII,KAAK,CAAE,CAACC,OAAO,CAAC,MAAM,CAAEC,UAAU,CAAC,QAAQ,CAAEC,GAAG,CAAC,EAAE,CAAE,CAAAO,QAAA,EACtDK,MAAM,CAAC0H,KAAK,CACZ1H,MAAM,CAACc,UAAU,eAAIjC,KAAA,UAAOI,KAAK,CAAE,CAACK,KAAK,CAAC,MAAM,CAAE,CAAAK,QAAA,EAAC,GAAC,CAACK,MAAM,CAACc,UAAU,CAAC,GAAC,EAAO,CAAC,EAC/E,CAAC,cAELnC,IAAA,MAAAgB,QAAA,CAAIK,MAAM,CAAC2H,IAAI,CAAI,CAAC,cACpB9I,KAAA,MAAAc,QAAA,eAAGhB,IAAA,MAAAgB,QAAA,CAAG,OAAK,CAAG,CAAC,IAAC,CAACK,MAAM,CAAC4H,IAAI,CAAC,KAAG,cAAAjJ,IAAA,MAAAgB,QAAA,CAAG,UAAQ,CAAG,CAAC,IAAC,CAACK,MAAM,CAAC6H,OAAO,EAAI,CAAC,cACpEhJ,KAAA,MAAAc,QAAA,eAAGhB,IAAA,MAAAgB,QAAA,CAAG,SAAO,CAAG,CAAC,IAAC,CAACK,MAAM,CAAC8H,SAAS,EAAI,WAAW,CAAC,KAAG,cAAAnJ,IAAA,MAAAgB,QAAA,CAAG,cAAY,CAAG,CAAC,IAAC,CAACiB,YAAY,EAAKZ,MAAM,CAACc,UAAU,EAAI,cAAe,EAAI,CAAC,cAErIjC,KAAA,QAAKI,KAAK,CAAE,CAACC,OAAO,CAAC,MAAM,CAAEE,GAAG,CAAC,CAAC,CAAE2I,SAAS,CAAC,CAAC,CAAE,CAAApI,QAAA,eAC/ChB,IAAA,WAAQ4I,SAAS,CAAC,KAAK,CAACE,OAAO,CAAEzF,OAAQ,CAACgG,QAAQ,CAAEtH,YAAa,CAAAf,QAAA,CAAEe,YAAY,CAAG,gBAAgB,CAAG,uBAAuB,CAAS,CAAC,cACtI/B,IAAA,MAAG4I,SAAS,CAAC,aAAa,CAACU,IAAI,CAAEX,SAAU,CAACY,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,YAAY,CAAAxI,QAAA,CAAC,qBAAmB,CAAG,CAAC,EACjG,CAAC,CAELa,OAAO,eACN7B,IAAA,QAAKM,KAAK,CAAE,CAAC8I,SAAS,CAAC,CAAC,CAAE,CAAApI,QAAA,cACxBd,KAAA,MAAAc,QAAA,eAAGhB,IAAA,MAAAgB,QAAA,CAAG,mBAAiB,CAAG,CAAC,IAAC,CAAC,CAACa,OAAO,CAACsF,QAAQ,CAAC,IAAI,EAAEsC,OAAO,CAAC,CAAC,CAAC,CAAC,aAAM,CAAC,CAAC5H,OAAO,CAACuF,QAAQ,CAAC,EAAE,EAAEqC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAI,EAAG,CAAC,CAC7G,CACN,cAEDzJ,IAAA,QAAKM,KAAK,CAAE,CAAC8I,SAAS,CAAC,EAAE,CAAE,CAAApI,QAAA,cACzBhB,IAAA,CAACH,OAAO,EAAC6J,OAAO,CAAE,CAAC,CAACtG,EAAE,CAAC/B,MAAM,CAAC+B,EAAE,CAAEE,GAAG,CAACY,UAAU,CAAC7C,MAAM,CAACiC,GAAG,CAAC,CAAEC,GAAG,CAACW,UAAU,CAAC7C,MAAM,CAACkC,GAAG,CAAC,CAAEwF,KAAK,CAAC1H,MAAM,CAAC0H,KAAK,CAAEC,IAAI,CAAC3H,MAAM,CAAC2H,IAAI,CAAEpB,MAAM,CAAEvG,MAAM,CAAC8H,SAAS,CAAEhH,UAAU,CAAEd,MAAM,CAACc,UAAU,CAAEF,YAAa,CAAC,CAAE,CAAC0H,MAAM,CAAC,OAAO,CAAChI,KAAK,CAAEA,KAAM,CAAE,CAAC,CACtO,CAAC,cAENzB,KAAA,QAAKI,KAAK,CAAE,CAAC8I,SAAS,CAAC,EAAE,CAAE,CAAApI,QAAA,eACzBhB,IAAA,OAAAgB,QAAA,CAAI,UAAQ,CAAI,CAAC,CAChB,CAAAI,gBAAA,CAAAC,MAAM,CAACoH,QAAQ,UAAArH,gBAAA,WAAfA,gBAAA,CAAiBmD,MAAM,CAAGlD,MAAM,CAACoH,QAAQ,CAACH,GAAG,CAAC,CAAC3B,CAAC,CAAEiD,GAAG,gBACpD1J,KAAA,QAA+B0I,SAAS,CAAC,SAAS,CAACtI,KAAK,CAAE,CAACuJ,UAAU,CAAGlD,CAAC,CAACqB,WAAW,EAAIrB,CAAC,CAACmD,UAAU,CAAI,mBAAmB,CAAG,uBAAuB,CAAEC,WAAW,CAAC,CAAC,CAAEC,YAAY,CAAC,CAAC,CAAE,CAAAhJ,QAAA,eACrLd,KAAA,QAAKI,KAAK,CAAE,CAACC,OAAO,CAAC,MAAM,CAAEC,UAAU,CAAC,QAAQ,CAAEC,GAAG,CAAC,CAAC,CAAE,CAAAO,QAAA,eACvDhB,IAAA,MAAAgB,QAAA,CAAI2F,CAAC,CAACiB,MAAM,CAAI,CAAC,cACjB5H,IAAA,UAAOM,KAAK,CAAE,CAACK,KAAK,CAAC,MAAM,CAAE,CAAAK,QAAA,CAAE,GAAI,CAAA8G,IAAI,CAACnB,CAAC,CAACkB,EAAE,CAAC,CAACoC,cAAc,CAAC,CAAC,CAAQ,CAAC,CACtE,CAACtD,CAAC,CAACqB,WAAW,EAAIrB,CAAC,CAACmD,UAAU,gBAAK9J,IAAA,CAACG,aAAa,EAACE,IAAI,CAAGsG,CAAC,CAACqB,WAAW,CAAG,WAAW,CAAG,UAAY,CAAE,CAAC,EACpG,CAAC,cACNhI,IAAA,MAAGM,KAAK,CAAE,CAAC8I,SAAS,CAAC,CAAC,CAAE,CAAApI,QAAA,CAAE2F,CAAC,CAACtG,IAAI,CAAI,CAAC,GAN7BsG,CAAC,CAACvD,EAAE,EAAIuD,CAAC,CAACkB,EAAE,EAAI+B,GAOrB,CACP,CAAC,cAAG5J,IAAA,MAAAgB,QAAA,CAAG,iBAAe,CAAG,CAAC,cAE1Bd,KAAA,QAAKI,KAAK,CAAE,CAACC,OAAO,CAAC,MAAM,CAAEE,GAAG,CAAC,CAAC,CAAE2I,SAAS,CAAC,CAAC,CAAE,CAAApI,QAAA,eAC/ChB,IAAA,UAAOkK,WAAW,CAAC,oBAAoB,CAACC,KAAK,CAAE1I,WAAY,CAAC2I,QAAQ,CAAEzH,CAAC,EAAEjB,cAAc,CAACiB,CAAC,CAAC4G,MAAM,CAACY,KAAK,CAAE,CAAE,CAAC,cAC3GnK,IAAA,WAAQ4I,SAAS,CAAC,KAAK,CAACE,OAAO,CAAEzB,iBAAkB,CAAArG,QAAA,CAAC,MAAI,CAAQ,CAAC,EAC9D,CAAC,EACH,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}