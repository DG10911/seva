{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import api from\"../api/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AuthoritiesList(){const[list,setList]=useState([]);useEffect(()=>{// Try load from backend, fallback to localStorage\nif(process.env.REACT_APP_API_BASE){api.getAuthorities().then(setList).catch(err=>{const raw=localStorage.getItem(\"seva_authorities\");if(raw)setList(JSON.parse(raw));});}else{const raw=localStorage.getItem(\"seva_authorities\");if(raw)setList(JSON.parse(raw));}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Authorities \\u2014 Bettiah\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[list.map(a=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:a.imageUrl||\"/placeholder.png\",alt:a.name,className:\"thumb\"}),/*#__PURE__*/_jsx(\"h4\",{children:a.name}),/*#__PURE__*/_jsx(\"p\",{children:a.department}),/*#__PURE__*/_jsxs(\"p\",{children:[a.city,\", \",a.state,\" (\",a.pincode,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Phone: \",a.phone]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",a.email]}),a.wards&&a.wards.length>0&&/*#__PURE__*/_jsxs(\"details\",{children:[/*#__PURE__*/_jsx(\"summary\",{children:\"Wards\"}),/*#__PURE__*/_jsx(\"ul\",{children:a.wards.map(w=>/*#__PURE__*/_jsxs(\"li\",{children:[w.name,\" \\u2014 \",w.phone]},w.id))})]})]},a.id)),list.length===0&&/*#__PURE__*/_jsxs(\"p\",{children:[\"No authorities loaded. Paste the authorities JSON into localStorage key \",/*#__PURE__*/_jsx(\"code\",{children:\"seva_authorities\"}),\" or start the backend.\"]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","AuthoritiesList","list","setList","process","env","REACT_APP_API_BASE","getAuthorities","then","catch","err","raw","localStorage","getItem","JSON","parse","className","children","map","a","src","imageUrl","alt","name","department","city","state","pincode","phone","email","wards","length","w","id"],"sources":["/Users/devanshgoenka/Desktop/seva/frontend/src/components/AuthoritiesList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../api/api\";\n\nexport default function AuthoritiesList(){\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    // Try load from backend, fallback to localStorage\n    if(process.env.REACT_APP_API_BASE){\n      api.getAuthorities().then(setList).catch(err=>{\n        const raw = localStorage.getItem(\"seva_authorities\");\n        if(raw) setList(JSON.parse(raw));\n      });\n    } else {\n      const raw = localStorage.getItem(\"seva_authorities\");\n      if(raw) setList(JSON.parse(raw));\n    }\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h2>Authorities — Bettiah</h2>\n      <div className=\"grid\">\n        {list.map(a => (\n          <div key={a.id} className=\"card\">\n            <img src={a.imageUrl || \"/placeholder.png\"} alt={a.name} className=\"thumb\"/>\n            <h4>{a.name}</h4>\n            <p>{a.department}</p>\n            <p>{a.city}, {a.state} ({a.pincode})</p>\n            <p>Phone: {a.phone}</p>\n            <p>Email: {a.email}</p>\n            {a.wards && a.wards.length>0 && <details><summary>Wards</summary>\n              <ul>{a.wards.map(w=> <li key={w.id}>{w.name} — {w.phone}</li>)}</ul>\n            </details>}\n          </div>\n        ))}\n        {list.length === 0 && <p>No authorities loaded. Paste the authorities JSON into localStorage key <code>seva_authorities</code> or start the backend.</p>}\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,cAAe,SAAS,CAAAC,eAAeA,CAAA,CAAE,CACvC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACd;AACA,GAAGU,OAAO,CAACC,GAAG,CAACC,kBAAkB,CAAC,CAChCV,GAAG,CAACW,cAAc,CAAC,CAAC,CAACC,IAAI,CAACL,OAAO,CAAC,CAACM,KAAK,CAACC,GAAG,EAAE,CAC5C,KAAM,CAAAC,GAAG,CAAGC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,CACpD,GAAGF,GAAG,CAAER,OAAO,CAACW,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC,CAAC,CAClC,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,KAAM,CAAAA,GAAG,CAAGC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC,CACpD,GAAGF,GAAG,CAAER,OAAO,CAACW,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC,CAAC,CAClC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEX,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBnB,IAAA,OAAAmB,QAAA,CAAI,4BAAqB,CAAI,CAAC,cAC9BjB,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,EAClBf,IAAI,CAACgB,GAAG,CAACC,CAAC,eACTnB,KAAA,QAAgBgB,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC9BnB,IAAA,QAAKsB,GAAG,CAAED,CAAC,CAACE,QAAQ,EAAI,kBAAmB,CAACC,GAAG,CAAEH,CAAC,CAACI,IAAK,CAACP,SAAS,CAAC,OAAO,CAAC,CAAC,cAC5ElB,IAAA,OAAAmB,QAAA,CAAKE,CAAC,CAACI,IAAI,CAAK,CAAC,cACjBzB,IAAA,MAAAmB,QAAA,CAAIE,CAAC,CAACK,UAAU,CAAI,CAAC,cACrBxB,KAAA,MAAAiB,QAAA,EAAIE,CAAC,CAACM,IAAI,CAAC,IAAE,CAACN,CAAC,CAACO,KAAK,CAAC,IAAE,CAACP,CAAC,CAACQ,OAAO,CAAC,GAAC,EAAG,CAAC,cACxC3B,KAAA,MAAAiB,QAAA,EAAG,SAAO,CAACE,CAAC,CAACS,KAAK,EAAI,CAAC,cACvB5B,KAAA,MAAAiB,QAAA,EAAG,SAAO,CAACE,CAAC,CAACU,KAAK,EAAI,CAAC,CACtBV,CAAC,CAACW,KAAK,EAAIX,CAAC,CAACW,KAAK,CAACC,MAAM,CAAC,CAAC,eAAI/B,KAAA,YAAAiB,QAAA,eAASnB,IAAA,YAAAmB,QAAA,CAAS,OAAK,CAAS,CAAC,cAC/DnB,IAAA,OAAAmB,QAAA,CAAKE,CAAC,CAACW,KAAK,CAACZ,GAAG,CAACc,CAAC,eAAGhC,KAAA,OAAAiB,QAAA,EAAgBe,CAAC,CAACT,IAAI,CAAC,UAAG,CAACS,CAAC,CAACJ,KAAK,GAAzBI,CAAC,CAACC,EAA4B,CAAC,CAAC,CAAK,CAAC,EAC7D,CAAC,GATFd,CAAC,CAACc,EAUP,CACN,CAAC,CACD/B,IAAI,CAAC6B,MAAM,GAAK,CAAC,eAAI/B,KAAA,MAAAiB,QAAA,EAAG,0EAAwE,cAAAnB,IAAA,SAAAmB,QAAA,CAAM,kBAAgB,CAAM,CAAC,yBAAsB,EAAG,CAAC,EACrJ,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}