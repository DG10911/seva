{"ast":null,"code":"var _jsxFileName = \"/Users/devanshgoenka/Desktop/seva/frontend/src/components/ReportView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport MapView from \"./MapView\";\nimport api from \"../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReportView({\n  report,\n  onClose,\n  onComment,\n  user\n}) {\n  _s();\n  var _report$comments;\n  const [commentText, setCommentText] = useState(\"\");\n  const [route, setRoute] = useState(null);\n  const [etaInfo, setEtaInfo] = useState(null);\n  const [loadingRoute, setLoadingRoute] = useState(false);\n  async function calcETA() {\n    if (!report.lat || !report.lng) {\n      alert(\"Report has no coordinates\");\n      return;\n    }\n    if (!navigator.geolocation) {\n      alert(\"Geolocation not available\");\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async pos => {\n      setLoadingRoute(true);\n      const start = [pos.coords.longitude, pos.coords.latitude];\n      const end = [parseFloat(report.lng), parseFloat(report.lat)];\n\n      // Try backend ORS proxy first (recommended)\n      if (process.env.REACT_APP_API_BASE) {\n        try {\n          var _feat$properties;\n          const data = await api.getRouteGeoJSON([start, end], \"driving-car\");\n          if (!data || !data.features || data.features.length === 0) throw new Error(\"No route returned\");\n          const feat = data.features[0];\n          setRoute(feat);\n          setEtaInfo(((_feat$properties = feat.properties) === null || _feat$properties === void 0 ? void 0 : _feat$properties.summary) || null);\n          setLoadingRoute(false);\n          return;\n        } catch (err) {\n          console.warn(\"Backend ORS proxy failed:\", err);\n          // fall through to direct ORS attempt if key present\n        }\n      }\n\n      // Fallback: direct ORS call from frontend (likely CORS issues unless ORS key & CORS ok)\n      if (process.env.REACT_APP_ORS_KEY) {\n        try {\n          var _data$features, _feat$properties2;\n          const resp = await fetch(\"https://api.openrouteservice.org/v2/directions/driving-car/geojson\", {\n            method: \"POST\",\n            headers: {\n              \"Authorization\": process.env.REACT_APP_ORS_KEY,\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              coordinates: [start, end]\n            })\n          });\n          if (!resp.ok) throw new Error(`ORS HTTP ${resp.status}`);\n          const data = await resp.json();\n          const feat = (_data$features = data.features) === null || _data$features === void 0 ? void 0 : _data$features[0];\n          setRoute(feat);\n          setEtaInfo(((_feat$properties2 = feat.properties) === null || _feat$properties2 === void 0 ? void 0 : _feat$properties2.summary) || null);\n          setLoadingRoute(false);\n          return;\n        } catch (e) {\n          console.error(\"Direct ORS call failed:\", e);\n        }\n      }\n\n      // If we reach here, show clear help text\n      setLoadingRoute(false);\n      alert(\"Could not compute route. Make sure: \\n1) backend is running and REACT_APP_API_BASE is set to backend URL, and the backend has ORS_KEY in its .env; OR \\n2) set REACT_APP_ORS_KEY in frontend (less recommended due to CORS/key exposure).\");\n    }, err => {\n      alert(\"Allow location to calculate ETA\");\n    });\n  }\n  function handleComment() {\n    if (!commentText.trim()) return;\n    const comment = {\n      author: (user === null || user === void 0 ? void 0 : user.username) || \"anonymous\",\n      text: commentText,\n      at: new Date().toISOString()\n    };\n    if (process.env.REACT_APP_API_BASE) {\n      api.commentReport(report.id, comment).then(() => onComment(report.id, comment)).catch(() => onComment(report.id, comment));\n    } else {\n      onComment(report.id, comment);\n    }\n    setCommentText(\"\");\n  }\n  const googleNav = report.lat && report.lng ? `https://www.google.com/maps/dir/?api=1&destination=${report.lat},${report.lng}&travelmode=driving` : \"https://www.google.com/maps\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"report-view card\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"close\",\n      onClick: onClose,\n      children: \"X\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: report.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: report.desc\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Area:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 10\n      }, this), \" \", report.area, \" | \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Pincode:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 39\n      }, this), \" \", report.pincode]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Assigned to:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 10\n      }, this), \" \", report.assignedTo || \"Not assigned\", \" | \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 70\n      }, this), \" \", report.status]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8,\n        marginTop: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: calcETA,\n        disabled: loadingRoute,\n        children: loadingRoute ? \"Calculating...\" : \"Calculate ETA & Route\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"btn-outline\",\n        href: googleNav,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        children: \"Open in Google Maps\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), etaInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Estimated travel:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 14\n        }, this), \" \", (etaInfo.distance / 1000).toFixed(2), \" km \\u2014 \", (etaInfo.duration / 60).toFixed(0), \" min\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      children: /*#__PURE__*/_jsxDEV(MapView, {\n        markers: report.lat ? [{\n          id: report.id,\n          lat: parseFloat(report.lat),\n          lng: parseFloat(report.lng),\n          title: report.title,\n          popup: report.area\n        }] : [],\n        height: \"300px\",\n        route: route\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), (_report$comments = report.comments) !== null && _report$comments !== void 0 && _report$comments.length ? report.comments.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: c.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n          children: new Date(c.at).toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: c.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, c.id || c.at, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No comments yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8,\n          marginTop: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Write a comment...\",\n          value: commentText,\n          onChange: e => setCommentText(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: handleComment,\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(ReportView, \"tNCxReS4ajlCMk4zQ0u4rKpJIas=\");\n_c = ReportView;\nvar _c;\n$RefreshReg$(_c, \"ReportView\");","map":{"version":3,"names":["React","useState","MapView","api","jsxDEV","_jsxDEV","ReportView","report","onClose","onComment","user","_s","_report$comments","commentText","setCommentText","route","setRoute","etaInfo","setEtaInfo","loadingRoute","setLoadingRoute","calcETA","lat","lng","alert","navigator","geolocation","getCurrentPosition","pos","start","coords","longitude","latitude","end","parseFloat","process","env","REACT_APP_API_BASE","_feat$properties","data","getRouteGeoJSON","features","length","Error","feat","properties","summary","err","console","warn","REACT_APP_ORS_KEY","_data$features","_feat$properties2","resp","fetch","method","headers","body","JSON","stringify","coordinates","ok","status","json","e","error","handleComment","trim","comment","author","username","text","at","Date","toISOString","commentReport","id","then","catch","googleNav","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","title","desc","area","pincode","assignedTo","style","display","gap","marginTop","disabled","href","target","rel","distance","toFixed","duration","markers","popup","height","comments","map","c","toLocaleString","placeholder","value","onChange","_c","$RefreshReg$"],"sources":["/Users/devanshgoenka/Desktop/seva/frontend/src/components/ReportView.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport MapView from \"./MapView\";\nimport api from \"../api/api\";\n\nexport default function ReportView({ report, onClose, onComment, user }){\n  const [commentText, setCommentText] = useState(\"\");\n  const [route, setRoute] = useState(null);\n  const [etaInfo, setEtaInfo] = useState(null);\n  const [loadingRoute, setLoadingRoute] = useState(false);\n\n  async function calcETA(){\n    if(!report.lat || !report.lng){ alert(\"Report has no coordinates\"); return; }\n    if(!navigator.geolocation){ alert(\"Geolocation not available\"); return; }\n\n    navigator.geolocation.getCurrentPosition(async pos => {\n      setLoadingRoute(true);\n      const start = [pos.coords.longitude, pos.coords.latitude];\n      const end = [parseFloat(report.lng), parseFloat(report.lat)];\n\n      // Try backend ORS proxy first (recommended)\n      if(process.env.REACT_APP_API_BASE){\n        try {\n          const data = await api.getRouteGeoJSON([start, end], \"driving-car\");\n          if(!data || !data.features || data.features.length === 0) throw new Error(\"No route returned\");\n          const feat = data.features[0];\n          setRoute(feat);\n          setEtaInfo(feat.properties?.summary || null);\n          setLoadingRoute(false);\n          return;\n        } catch(err){\n          console.warn(\"Backend ORS proxy failed:\", err);\n          // fall through to direct ORS attempt if key present\n        }\n      }\n\n      // Fallback: direct ORS call from frontend (likely CORS issues unless ORS key & CORS ok)\n      if(process.env.REACT_APP_ORS_KEY){\n        try {\n          const resp = await fetch(\"https://api.openrouteservice.org/v2/directions/driving-car/geojson\", {\n            method: \"POST\",\n            headers: {\"Authorization\": process.env.REACT_APP_ORS_KEY, \"Content-Type\":\"application/json\"},\n            body: JSON.stringify({ coordinates: [start, end] })\n          });\n          if(!resp.ok) throw new Error(`ORS HTTP ${resp.status}`);\n          const data = await resp.json();\n          const feat = data.features?.[0];\n          setRoute(feat);\n          setEtaInfo(feat.properties?.summary || null);\n          setLoadingRoute(false);\n          return;\n        } catch(e){\n          console.error(\"Direct ORS call failed:\", e);\n        }\n      }\n\n      // If we reach here, show clear help text\n      setLoadingRoute(false);\n      alert(\"Could not compute route. Make sure: \\n1) backend is running and REACT_APP_API_BASE is set to backend URL, and the backend has ORS_KEY in its .env; OR \\n2) set REACT_APP_ORS_KEY in frontend (less recommended due to CORS/key exposure).\");\n    }, err => { alert(\"Allow location to calculate ETA\"); });\n  }\n\n  function handleComment(){\n    if(!commentText.trim()) return;\n    const comment = { author: user?.username || \"anonymous\", text: commentText, at: new Date().toISOString() };\n    if(process.env.REACT_APP_API_BASE){\n      api.commentReport(report.id, comment).then(()=> onComment(report.id, comment)).catch(()=> onComment(report.id, comment));\n    } else {\n      onComment(report.id, comment);\n    }\n    setCommentText(\"\");\n  }\n\n  const googleNav = report.lat && report.lng ? `https://www.google.com/maps/dir/?api=1&destination=${report.lat},${report.lng}&travelmode=driving` : \"https://www.google.com/maps\";\n\n  return (\n    <div className=\"report-view card\">\n      <button className=\"close\" onClick={onClose}>X</button>\n      <h3>{report.title}</h3>\n      <p>{report.desc}</p>\n      <p><b>Area:</b> {report.area} | <b>Pincode:</b> {report.pincode}</p>\n      <p><b>Assigned to:</b> {report.assignedTo || \"Not assigned\"} | <b>Status:</b> {report.status}</p>\n\n      <div style={{display:'flex', gap:8, marginTop:8}}>\n        <button className=\"btn\" onClick={calcETA} disabled={loadingRoute}>{loadingRoute ? \"Calculating...\" : \"Calculate ETA & Route\"}</button>\n        <a className=\"btn-outline\" href={googleNav} target=\"_blank\" rel=\"noreferrer\">Open in Google Maps</a>\n      </div>\n\n      {etaInfo && (\n        <div style={{marginTop:8}}>\n          <p><b>Estimated travel:</b> {(etaInfo.distance/1000).toFixed(2)} km â€” {(etaInfo.duration/60).toFixed(0)} min</p>\n        </div>\n      )}\n\n      <div style={{marginTop:12}}>\n        <MapView markers={report.lat ? [{id:report.id, lat:parseFloat(report.lat), lng:parseFloat(report.lng), title:report.title, popup:report.area}] : []} height=\"300px\" route={route} />\n      </div>\n\n      <div style={{marginTop:12}}>\n        <h4>Comments</h4>\n        {report.comments?.length ? report.comments.map(c =>\n          <div key={c.id || c.at} className=\"comment\">\n            <b>{c.author}</b> <small>{new Date(c.at).toLocaleString()}</small>\n            <p>{c.text}</p>\n          </div>\n        ) : <p>No comments yet</p>}\n        <div style={{display:'flex', gap:8, marginTop:8}}>\n          <input placeholder=\"Write a comment...\" value={commentText} onChange={e=>setCommentText(e.target.value)} />\n          <button className=\"btn\" onClick={handleComment}>Post</button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}