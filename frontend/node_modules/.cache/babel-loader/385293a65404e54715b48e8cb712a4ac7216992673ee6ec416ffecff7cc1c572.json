{"ast":null,"code":"import _objectSpread from\"/Users/devanshgoenka/Desktop/seva/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/DashboardAuthority.jsx\nimport React,{useEffect,useState}from\"react\";import MapView from\"./MapView\";import ReportView from\"./ReportView\";import api from\"../api/api\";import{jsPDF}from\"jspdf\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DashboardAuthority(_ref){let{user}=_ref;const[reports,setReports]=useState([]);const[viewReport,setViewReport]=useState(null);useEffect(()=>{refreshReports();},[]);async function refreshReports(){if(process.env.REACT_APP_API_BASE){try{const res=await api.getReports();setReports(res);return;}catch(err){console.warn(\"API getReports failed\",err);}}setReports(JSON.parse(localStorage.getItem(\"seva_reports\")||\"[]\"));}function myAssignedReports(){const myId=user===null||user===void 0?void 0:user.username;return(reports||[]).filter(r=>r.assignedTo===myId);}function buildMarkers(){const auths=localStorage.getItem(\"seva_authorities\")?JSON.parse(localStorage.getItem(\"seva_authorities\")):[];const byId={};for(const a of auths)byId[a.id]=a;return myAssignedReports().filter(r=>r.lat&&r.lng).map(r=>{var _byId$r$assignedTo;return{id:r.id,lat:parseFloat(r.lat),lng:parseFloat(r.lng),title:r.title,desc:r.desc,author:r.createdBy||r.author||\"anonymous\",assignedTo:r.assignedTo,assignedName:r.assignedTo?((_byId$r$assignedTo=byId[r.assignedTo])===null||_byId$r$assignedTo===void 0?void 0:_byId$r$assignedTo.name)||r.assignedTo:\"Not assigned\"};});}function handleMarkerClick(markerObj){const r=reports.find(x=>x.id===markerObj.id);if(r)setViewReport(r);}async function replyAsAuthority(id){const text=prompt(\"Write your reply (this will be shown as replied by Authority):\");if(!text)return;const comment={author:\"Authority (\".concat((user===null||user===void 0?void 0:user.username)||\"authority\",\")\"),text,at:new Date().toISOString(),byAuthority:true};if(process.env.REACT_APP_API_BASE){try{await api.commentReport(id,comment);await refreshReports();return;}catch(e){console.warn(e);}}const arr=JSON.parse(localStorage.getItem(\"seva_reports\")||\"[]\");const updated=arr.map(x=>x.id===id?_objectSpread(_objectSpread({},x),{},{comments:[...(x.comments||[]),comment]}):x);localStorage.setItem(\"seva_reports\",JSON.stringify(updated));await refreshReports();}async function onCommentHandler(){await refreshReports();}// ðŸ”¥ NEW: bulk PDF with Authority verification\nfunction downloadMyReportsPDF(){const myReports=myAssignedReports();if(!myReports.length){alert(\"No reports assigned to you to download.\");return;}const doc=new jsPDF();const pageWidth=doc.internal.pageSize.getWidth();const pageHeight=doc.internal.pageSize.getHeight();const margin=10;const lineHeight=6;myReports.forEach((r,idx)=>{var _r$votes,_r$completedVotes;if(idx>0)doc.addPage();let y=margin;doc.setFontSize(14);doc.setFont(\"helvetica\",\"bold\");doc.text(\"Bettiah SEVA â€” Authority Report Summary\",margin,y);y+=lineHeight+2;doc.setFontSize(11);doc.setFont(\"helvetica\",\"normal\");const lines=[\"Assigned Authority: \".concat((user===null||user===void 0?void 0:user.username)||\"Authority\"),\"Report ID: \".concat(r.id||idx+1),\"Title: \".concat(r.title||\"\"),\"Description: \".concat(r.desc||\"\"),\"Category: \".concat(r.category||\"\",\"    Status: \").concat(r.status||\"\"),\"Area: \".concat(r.area||\"\",\"    Pincode: \").concat(r.pincode||\"\"),\"Deadline: \".concat(r.deadline||\"â€”\"),\"Votes: \".concat((_r$votes=r.votes)!==null&&_r$votes!==void 0?_r$votes:0,\"    Completed Votes: \").concat((_r$completedVotes=r.completedVotes)!==null&&_r$completedVotes!==void 0?_r$completedVotes:0),\"Created By: \".concat(r.createdBy||\"anonymous\",\"    At: \").concat(r.createdAt||\"\")];for(const line of lines){const wrapped=doc.splitTextToSize(line,pageWidth-margin*2);doc.text(wrapped,margin,y);y+=lineHeight*wrapped.length;}if(r.lat&&r.lng){y+=lineHeight;const locLine=\"Location: \".concat(r.lat,\", \").concat(r.lng);doc.text(doc.splitTextToSize(locLine,pageWidth-2*margin),margin,y);y+=lineHeight;const mapLine=\"Google Maps: https://www.google.com/maps/dir/?api=1&destination=\".concat(r.lat,\",\").concat(r.lng,\"&travelmode=driving\");doc.text(doc.splitTextToSize(mapLine,pageWidth-2*margin),margin,y);y+=lineHeight*2;doc.setFontSize(9);doc.setTextColor(100);doc.text(\"For live route & ETA, use SEVA app or this link.\",margin,y);doc.setTextColor(0);}// Authority verification stamp\ny+=lineHeight*2;doc.setFontSize(11);doc.setFont(\"helvetica\",\"bold\");doc.text(\"\\u2714 Verified by Authority: \".concat((user===null||user===void 0?void 0:user.username)||\"Authority\"),margin,y);y+=lineHeight*2;doc.setFontSize(9);doc.text(\"Exported on \".concat(new Date().toLocaleString()),margin,pageHeight-8);});const ts=new Date().toISOString().replace(/[:.]/g,\"-\");doc.save(\"bettiah-seva-authority-\".concat((user===null||user===void 0?void 0:user.username)||\"reports\",\"-\").concat(ts,\".pdf\"));}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Authority Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"muted\",children:[\"Logged in as \",/*#__PURE__*/_jsx(\"b\",{children:user===null||user===void 0?void 0:user.username}),\" \\u2014 showing reports assigned to your authority.\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\",gap:8,marginTop:8,marginBottom:8,flexWrap:\"wrap\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-outline\",onClick:downloadMyReportsPDF,children:\"Download my reports (PDF)\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginTop:12},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Map \\u2014 reports assigned to you\"}),/*#__PURE__*/_jsx(MapView,{markers:buildMarkers(),height:\"520px\",onMarkerClick:handleMarkerClick}),/*#__PURE__*/_jsx(\"p\",{className:\"muted\",style:{marginTop:8},children:\"Click a marker and press Open to view full details with map, route, ETA and individual PDF download.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginTop:12},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Assigned Reports (list)\"}),myAssignedReports().length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No reports currently assigned to you.\"}),myAssignedReports().map(r=>{var _r$desc;return/*#__PURE__*/_jsxs(\"div\",{className:\"card small\",style:{marginBottom:8},children:[/*#__PURE__*/_jsx(\"h4\",{children:r.title}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0},children:[(_r$desc=r.desc)===null||_r$desc===void 0?void 0:_r$desc.slice(0,120),r.desc&&r.desc.length>120?\"...\":\"\"]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Area:\"}),\" \",r.area||\"â€”\",\" | \",/*#__PURE__*/_jsx(\"b\",{children:\"Pincode:\"}),\" \",r.pincode||\"â€”\"]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,marginTop:8},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>setViewReport(r),children:\"Open\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-outline\",onClick:()=>replyAsAuthority(r.id),children:\"Reply (Verified)\"})]})]},r.id);})]}),viewReport&&/*#__PURE__*/_jsx(ReportView,{report:viewReport,onClose:()=>{setViewReport(null);refreshReports();},onComment:onCommentHandler,user:user})]});}","map":{"version":3,"names":["React","useEffect","useState","MapView","ReportView","api","jsPDF","jsx","_jsx","jsxs","_jsxs","DashboardAuthority","_ref","user","reports","setReports","viewReport","setViewReport","refreshReports","process","env","REACT_APP_API_BASE","res","getReports","err","console","warn","JSON","parse","localStorage","getItem","myAssignedReports","myId","username","filter","r","assignedTo","buildMarkers","auths","byId","a","id","lat","lng","map","_byId$r$assignedTo","parseFloat","title","desc","author","createdBy","assignedName","name","handleMarkerClick","markerObj","find","x","replyAsAuthority","text","prompt","comment","concat","at","Date","toISOString","byAuthority","commentReport","e","arr","updated","_objectSpread","comments","setItem","stringify","onCommentHandler","downloadMyReportsPDF","myReports","length","alert","doc","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","margin","lineHeight","forEach","idx","_r$votes","_r$completedVotes","addPage","y","setFontSize","setFont","lines","category","status","area","pincode","deadline","votes","completedVotes","createdAt","line","wrapped","splitTextToSize","locLine","mapLine","setTextColor","toLocaleString","ts","replace","save","className","children","style","display","justifyContent","gap","marginTop","marginBottom","flexWrap","onClick","markers","height","onMarkerClick","_r$desc","slice","report","onClose","onComment"],"sources":["/Users/devanshgoenka/Desktop/seva/frontend/src/components/DashboardAuthority.jsx"],"sourcesContent":["// src/components/DashboardAuthority.jsx\nimport React, { useEffect, useState } from \"react\";\nimport MapView from \"./MapView\";\nimport ReportView from \"./ReportView\";\nimport api from \"../api/api\";\nimport { jsPDF } from \"jspdf\";\n\nexport default function DashboardAuthority({ user }) {\n  const [reports, setReports] = useState([]);\n  const [viewReport, setViewReport] = useState(null);\n\n  useEffect(() => {\n    refreshReports();\n  }, []);\n\n  async function refreshReports() {\n    if (process.env.REACT_APP_API_BASE) {\n      try {\n        const res = await api.getReports();\n        setReports(res);\n        return;\n      } catch (err) {\n        console.warn(\"API getReports failed\", err);\n      }\n    }\n    setReports(JSON.parse(localStorage.getItem(\"seva_reports\") || \"[]\"));\n  }\n\n  function myAssignedReports() {\n    const myId = user?.username;\n    return (reports || []).filter((r) => r.assignedTo === myId);\n  }\n\n  function buildMarkers() {\n    const auths = localStorage.getItem(\"seva_authorities\")\n      ? JSON.parse(localStorage.getItem(\"seva_authorities\"))\n      : [];\n    const byId = {};\n    for (const a of auths) byId[a.id] = a;\n\n    return myAssignedReports()\n      .filter((r) => r.lat && r.lng)\n      .map((r) => ({\n        id: r.id,\n        lat: parseFloat(r.lat),\n        lng: parseFloat(r.lng),\n        title: r.title,\n        desc: r.desc,\n        author: r.createdBy || r.author || \"anonymous\",\n        assignedTo: r.assignedTo,\n        assignedName: r.assignedTo\n          ? byId[r.assignedTo]?.name || r.assignedTo\n          : \"Not assigned\",\n      }));\n  }\n\n  function handleMarkerClick(markerObj) {\n    const r = reports.find((x) => x.id === markerObj.id);\n    if (r) setViewReport(r);\n  }\n\n  async function replyAsAuthority(id) {\n    const text = prompt(\n      \"Write your reply (this will be shown as replied by Authority):\"\n    );\n    if (!text) return;\n    const comment = {\n      author: `Authority (${user?.username || \"authority\"})`,\n      text,\n      at: new Date().toISOString(),\n      byAuthority: true,\n    };\n    if (process.env.REACT_APP_API_BASE) {\n      try {\n        await api.commentReport(id, comment);\n        await refreshReports();\n        return;\n      } catch (e) {\n        console.warn(e);\n      }\n    }\n    const arr = JSON.parse(localStorage.getItem(\"seva_reports\") || \"[]\");\n    const updated = arr.map((x) =>\n      x.id === id\n        ? { ...x, comments: [...(x.comments || []), comment] }\n        : x\n    );\n    localStorage.setItem(\"seva_reports\", JSON.stringify(updated));\n    await refreshReports();\n  }\n\n  async function onCommentHandler() {\n    await refreshReports();\n  }\n\n  // ðŸ”¥ NEW: bulk PDF with Authority verification\n  function downloadMyReportsPDF() {\n    const myReports = myAssignedReports();\n    if (!myReports.length) {\n      alert(\"No reports assigned to you to download.\");\n      return;\n    }\n\n    const doc = new jsPDF();\n    const pageWidth = doc.internal.pageSize.getWidth();\n    const pageHeight = doc.internal.pageSize.getHeight();\n    const margin = 10;\n    const lineHeight = 6;\n\n    myReports.forEach((r, idx) => {\n      if (idx > 0) doc.addPage();\n      let y = margin;\n\n      doc.setFontSize(14);\n      doc.setFont(\"helvetica\", \"bold\");\n      doc.text(\"Bettiah SEVA â€” Authority Report Summary\", margin, y);\n      y += lineHeight + 2;\n\n      doc.setFontSize(11);\n      doc.setFont(\"helvetica\", \"normal\");\n\n      const lines = [\n        `Assigned Authority: ${user?.username || \"Authority\"}`,\n        `Report ID: ${r.id || idx + 1}`,\n        `Title: ${r.title || \"\"}`,\n        `Description: ${r.desc || \"\"}`,\n        `Category: ${r.category || \"\"}    Status: ${r.status || \"\"}`,\n        `Area: ${r.area || \"\"}    Pincode: ${r.pincode || \"\"}`,\n        `Deadline: ${r.deadline || \"â€”\"}`,\n        `Votes: ${r.votes ?? 0}    Completed Votes: ${r.completedVotes ?? 0}`,\n        `Created By: ${r.createdBy || \"anonymous\"}    At: ${\n          r.createdAt || \"\"\n        }`,\n      ];\n\n      for (const line of lines) {\n        const wrapped = doc.splitTextToSize(\n          line,\n          pageWidth - margin * 2\n        );\n        doc.text(wrapped, margin, y);\n        y += lineHeight * wrapped.length;\n      }\n\n      if (r.lat && r.lng) {\n        y += lineHeight;\n        const locLine = `Location: ${r.lat}, ${r.lng}`;\n        doc.text(\n          doc.splitTextToSize(locLine, pageWidth - 2 * margin),\n          margin,\n          y\n        );\n        y += lineHeight;\n\n        const mapLine = `Google Maps: https://www.google.com/maps/dir/?api=1&destination=${r.lat},${r.lng}&travelmode=driving`;\n        doc.text(\n          doc.splitTextToSize(mapLine, pageWidth - 2 * margin),\n          margin,\n          y\n        );\n        y += lineHeight * 2;\n\n        doc.setFontSize(9);\n        doc.setTextColor(100);\n        doc.text(\n          \"For live route & ETA, use SEVA app or this link.\",\n          margin,\n          y\n        );\n        doc.setTextColor(0);\n      }\n\n      // Authority verification stamp\n      y += lineHeight * 2;\n      doc.setFontSize(11);\n      doc.setFont(\"helvetica\", \"bold\");\n      doc.text(\n        `âœ” Verified by Authority: ${user?.username || \"Authority\"}`,\n        margin,\n        y\n      );\n      y += lineHeight * 2;\n\n      doc.setFontSize(9);\n      doc.text(\n        `Exported on ${new Date().toLocaleString()}`,\n        margin,\n        pageHeight - 8\n      );\n    });\n\n    const ts = new Date().toISOString().replace(/[:.]/g, \"-\");\n    doc.save(`bettiah-seva-authority-${user?.username || \"reports\"}-${ts}.pdf`);\n  }\n\n  return (\n    <div className=\"container\">\n      <h2>Authority Dashboard</h2>\n      <p className=\"muted\">\n        Logged in as <b>{user?.username}</b> â€” showing reports assigned to your\n        authority.\n      </p>\n\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          gap: 8,\n          marginTop: 8,\n          marginBottom: 8,\n          flexWrap: \"wrap\",\n        }}\n      >\n        <button className=\"btn-outline\" onClick={downloadMyReportsPDF}>\n          Download my reports (PDF)\n        </button>\n      </div>\n\n      <div className=\"card\" style={{ marginTop: 12 }}>\n        <h3>Map â€” reports assigned to you</h3>\n        <MapView\n          markers={buildMarkers()}\n          height=\"520px\"\n          onMarkerClick={handleMarkerClick}\n        />\n        <p className=\"muted\" style={{ marginTop: 8 }}>\n          Click a marker and press Open to view full details with map, route,\n          ETA and individual PDF download.\n        </p>\n      </div>\n\n      <div className=\"card\" style={{ marginTop: 12 }}>\n        <h3>Your Assigned Reports (list)</h3>\n        {myAssignedReports().length === 0 && (\n          <p>No reports currently assigned to you.</p>\n        )}\n        {myAssignedReports().map((r) => (\n          <div key={r.id} className=\"card small\" style={{ marginBottom: 8 }}>\n            <h4>{r.title}</h4>\n            <p style={{ margin: 0 }}>\n              {r.desc?.slice(0, 120)}\n              {r.desc && r.desc.length > 120 ? \"...\" : \"\"}\n            </p>\n            <p style={{ margin: 0 }}>\n              <small>\n                <b>Area:</b> {r.area || \"â€”\"} | <b>Pincode:</b>{\" \"}\n                {r.pincode || \"â€”\"}\n              </small>\n            </p>\n            <div style={{ display: \"flex\", gap: 8, marginTop: 8 }}>\n              <button className=\"btn\" onClick={() => setViewReport(r)}>\n                Open\n              </button>\n              <button\n                className=\"btn-outline\"\n                onClick={() => replyAsAuthority(r.id)}\n              >\n                Reply (Verified)\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {viewReport && (\n        <ReportView\n          report={viewReport}\n          onClose={() => {\n            setViewReport(null);\n            refreshReports();\n          }}\n          onComment={onCommentHandler}\n          user={user}\n        />\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}